const{createApp:a}=Vue;a({compilerOptions:{delimiters:["[[","]]"]},data:()=>({url:"",shortUrl:"",buttonEnabled:!0,textareaDisabled:!1,isWaiting:!1,error:!1,kuts:[]}),methods:{async short(){this.buttonEnabled=!1,this.textareaDisabled=!0,this.isWaiting=!0,this.error=!1;let a=await fetch("/short",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:this.url})});if(a.status>=400)this.error=!0,this.shortUrl=null;else{let b=await a.json();this.shortUrl=b.url,this.save(b),this.kuts=this.load()}this.textareaDisabled=!1,this.isWaiting=!1},copyToClipboard(){navigator.clipboard.writeText(this.shortUrl);let a=new Notyf({position:{x:"center",y:"bottom"}});a.success("Copied to Clipboard!")},copyHistory(a){navigator.clipboard.writeText(a);let b=new Notyf({position:{x:"center",y:"bottom"}});b.success("Copied to Clipboard!")},enableButton(){this.buttonEnabled=!0},save(c){let b=window.localStorage.getItem("kuts"),a=b?JSON.parse(b):[];a.length>4&&a.pop(),window.localStorage.setItem("kuts",JSON.stringify([c,...a]))},load(){let a=window.localStorage.getItem("kuts");return a?JSON.parse(a):[]}},mounted(){this.kuts=this.load()}}).mount("#app")